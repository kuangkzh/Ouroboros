<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:等线;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"\@等线";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:等线;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"页眉 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	layout-grid-mode:char;
	border:none;
	padding:0cm;
	font-size:9.0pt;
	font-family:等线;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"页脚 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:等线;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
pre
	{mso-style-link:"HTML 预设格式 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:宋体;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	font-size:10.5pt;
	font-family:等线;}
span.HTML
	{mso-style-name:"HTML 预设格式 字符";
	mso-style-link:"HTML 预设格式";
	font-family:宋体;}
p.msonormal0, li.msonormal0, div.msonormal0
	{mso-style-name:msonormal;
	margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:宋体;}
p.alt, li.alt, div.alt
	{mso-style-name:alt;
	margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:宋体;}
span.tag
	{mso-style-name:tag;}
span.tag-name
	{mso-style-name:tag-name;}
span.keyword
	{mso-style-name:keyword;}
span.string
	{mso-style-name:string;}
span.attribute
	{mso-style-name:attribute;}
span.attribute-value
	{mso-style-name:attribute-value;}
span.a
	{mso-style-name:"页眉 字符";
	mso-style-link:页眉;
	font-family:等线;}
span.a0
	{mso-style-name:"页脚 字符";
	mso-style-link:页脚;
	font-family:等线;}
.MsoChpDefault
	{font-size:10.0pt;
	font-family:等线;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=ZH-CN link="#0563C1" vlink="#954F72" style='text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<p class=MsoNormal><b><span lang=EN-US style='font-size:14.0pt;font-family:
宋体'>&nbsp;</span></b></p>

<p class=MsoNormal><b><span lang=EN-US style='font-size:14.0pt;font-family:
宋体'>&nbsp;</span></b></p>

<p class=MsoNormal><b><span lang=EN-US style='font-size:14.0pt;font-family:
宋体'>&nbsp;</span></b></p>

<p class=MsoNormal><b><span lang=EN-US style='font-size:14.0pt;font-family:
宋体'>&nbsp;</span></b></p>

<p class=MsoNormal><b><span lang=EN-US style='font-size:14.0pt;font-family:
宋体'>&nbsp;</span></b></p>

<p class=MsoNormal><b><span lang=EN-US style='font-size:14.0pt;font-family:
宋体'>&nbsp;</span></b></p>

<p class=MsoNormal align=center style='text-align:center'><b><span lang=EN-US
style='font-size:18.0pt;font-family:宋体'>Ouroboros</span></b><b><span
style='font-size:18.0pt;font-family:宋体'>使用手册</span></b></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:14.0pt;font-family:宋体'>版本：<span lang=EN-US>2.3.1</span></span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:14.0pt;font-family:宋体'>编写日期：<span lang=EN-US>2018</span>年<span
lang=EN-US>12</span>月<span lang=EN-US>5</span>日</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US
style='font-size:14.0pt;font-family:宋体'>&nbsp;</span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US
style='font-size:14.0pt;font-family:宋体'>&nbsp;</span></p>

<b><span lang=EN-US style='font-size:14.0pt;font-family:宋体'><br clear=all
style='page-break-before:always'>
</span></b>

<p class=MsoNormal align=left style='text-align:left'><b><span lang=EN-US
style='font-size:14.0pt;font-family:宋体'>&nbsp;</span></b></p>

<div align=center>

<table class=MsoTableGrid border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=553 valign=top style='width:414.8pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><b><span
  lang=EN-US style='font-size:14.0pt;font-family:宋体'>一、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
  </span></span></b><b><span style='font-size:14.0pt;font-family:宋体'>服务器配置</span></b></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span lang=EN-US style='font-size:12.0pt;font-family:
  宋体'>Python</span></b><b><span style='font-size:12.0pt;font-family:宋体'>环境：</span></b><span
  style='font-family:宋体'>本框架在<span lang=EN-US>python3.5</span>环境下测试通过。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span style='font-size:12.0pt;font-family:宋体'>文件目录及作用：</span></b></p>
  <table class=MsoTable15Grid2Accent5 border=1 cellspacing=0 cellpadding=0
   style='margin-left:1.45pt;border-collapse:collapse;border:none'>
   <tr>
    <td width=180 style='width:134.65pt;border-top:#2E74B5 1.0pt;border-left:
    #2E74B5 1.0pt;border-bottom:#9CC2E5 1.5pt;border-right:#9CC2E5 1.0pt;
    border-style:solid;background:white;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><b><span
    style='font-family:宋体'>文件路径</span></b></p>
    </td>
    <td width=312 style='width:233.9pt;border-top:solid #2E74B5 1.0pt;
    border-left:none;border-bottom:solid #9CC2E5 1.5pt;border-right:solid #9CC2E5 1.0pt;
    background:white;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><b><span
    style='font-family:宋体'>作用</span></b></p>
    </td>
    <td width=49 style='width:36.7pt;border-top:solid #2E74B5 1.0pt;border-left:
    none;border-bottom:solid #9CC2E5 1.5pt;border-right:solid #2E74B5 1.0pt;
    background:white;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><b><span
    style='font-family:宋体'>需要修改</span></b></p>
    </td>
   </tr>
   <tr>
    <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>\my_server.py</span></p>
    </td>
    <td width=312 valign=top style='width:233.9pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>主程序</span></p>
    </td>
    <td width=49 valign=top style='width:36.7pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>×</span></p>
    </td>
   </tr>
   <tr>
    <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>\RequestHandler.py</span></p>
    </td>
    <td width=312 valign=top style='width:233.9pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>-</span></p>
    </td>
    <td width=49 valign=top style='width:36.7pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>×</span></p>
    </td>
   </tr>
   <tr>
    <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>\URLFile.py</span></p>
    </td>
    <td width=312 valign=top style='width:233.9pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>-</span></p>
    </td>
    <td width=49 valign=top style='width:36.7pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>×</span></p>
    </td>
   </tr>
   <tr>
    <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>\config.py</span></p>
    </td>
    <td width=312 valign=top style='width:233.9pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>服务器基础配置</span></p>
    </td>
    <td width=49 valign=top style='width:36.7pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>○</span></p>
    </td>
   </tr>
   <tr>
    <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>\index\error\403.html</span></p>
    </td>
    <td width=312 valign=top style='width:233.9pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>访问到非法地址时默认返回的错误页面</span></p>
    </td>
    <td width=49 valign=top style='width:36.7pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>○</span></p>
    </td>
   </tr>
   <tr>
    <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>\index\error\404.html</span></p>
    </td>
    <td width=312 valign=top style='width:233.9pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>访问到不存在地址时默认返回的错误页面</span></p>
    </td>
    <td width=49 valign=top style='width:36.7pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>○</span></p>
    </td>
   </tr>
   <tr>
    <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>\index\ajax_map.html</span></p>
    </td>
    <td width=312 valign=top style='width:233.9pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>一个帮助<span lang=EN-US>ajax</span>函数调用的小工具</span></p>
    </td>
    <td width=49 valign=top style='width:36.7pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>×</span></p>
    </td>
   </tr>
   <tr>
    <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>\index\ajax_map.py</span></p>
    </td>
    <td width=312 valign=top style='width:233.9pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>在这里编写<span lang=EN-US>ajax_map</span>调用用到的后台代码</span></p>
    </td>
    <td width=49 valign=top style='width:36.7pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>○</span></p>
    </td>
   </tr>
   <tr>
    <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>\index\ajax_map.js</span></p>
    </td>
    <td width=312 valign=top style='width:233.9pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>ajax_map</span><span style='font-family:宋体'>的前端工具</span></p>
    </td>
    <td width=49 valign=top style='width:36.7pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>×</span></p>
    </td>
   </tr>
   <tr>
    <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>\index\ajax_test.html</span></p>
    </td>
    <td width=312 valign=top style='width:233.9pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>ajax_map</span><span style='font-family:宋体'>小工具的使用示例</span></p>
    </td>
    <td width=49 valign=top style='width:36.7pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>○</span></p>
    </td>
   </tr>
   <tr>
    <td width=180 valign=top style='width:134.65pt;border-top:none;border-left:
    solid #2E74B5 1.0pt;border-bottom:solid #2E74B5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>\index\help.html</span></p>
    </td>
    <td width=312 valign=top style='width:233.9pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>帮助文档</span></p>
    </td>
    <td width=49 valign=top style='width:36.7pt;border-top:none;border-left:
    none;border-bottom:solid #2E74B5 1.0pt;border-right:solid #2E74B5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>×</span></p>
    </td>
   </tr>
  </table>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体'>&nbsp;</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span lang=EN-US style='font-size:12.0pt;font-family:
  宋体'>Config</span></b><b><span style='font-size:12.0pt;font-family:宋体'>中的配置：</span></b></p>
  <table class=MsoTable15Grid2Accent5 border=1 cellspacing=0 cellpadding=0
   style='margin-left:1.45pt;border-collapse:collapse;border:none'>
   <tr>
    <td width=123 style='width:92.15pt;border-top:#2E74B5 1.0pt;border-left:
    #2E74B5 1.0pt;border-bottom:#9CC2E5 1.5pt;border-right:#9CC2E5 1.0pt;
    border-style:solid;background:white;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><b><span
    style='font-family:宋体'>配置项</span></b></p>
    </td>
    <td width=277 style='width:207.8pt;border-top:solid #2E74B5 1.0pt;
    border-left:none;border-bottom:solid #9CC2E5 1.5pt;border-right:solid #9CC2E5 1.0pt;
    background:white;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><b><span
    style='font-family:宋体'>作用</span></b></p>
    </td>
    <td width=140 style='width:105.3pt;border-top:solid #2E74B5 1.0pt;
    border-left:none;border-bottom:solid #9CC2E5 1.5pt;border-right:solid #2E74B5 1.0pt;
    background:white;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><b><span
    style='font-family:宋体'>默认</span></b></p>
    </td>
   </tr>
   <tr>
    <td width=123 valign=top style='width:92.15pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>PORT</span></p>
    </td>
    <td width=277 valign=top style='width:207.8pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>服务器监听端口</span></p>
    </td>
    <td width=140 valign=top style='width:105.3pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>8888</span></p>
    </td>
   </tr>
   <tr>
    <td width=123 valign=top style='width:92.15pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>DEFAULT_ROOT</span></p>
    </td>
    <td width=277 valign=top style='width:207.8pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>服务器寻找文件的默认地址</span></p>
    </td>
    <td width=140 valign=top style='width:105.3pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>&quot;./index/&quot;</span></p>
    </td>
   </tr>
   <tr>
    <td width=123 valign=top style='width:92.15pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>ENCODING</span></p>
    </td>
    <td width=277 valign=top style='width:207.8pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>网页文件编码</span></p>
    </td>
    <td width=140 valign=top style='width:105.3pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>&quot;UTF-8&quot;</span></p>
    </td>
   </tr>
   <tr>
    <td width=123 valign=top style='width:92.15pt;border-top:none;border-left:
    solid #9CC2E5 1.0pt;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>PAGE_403</span></p>
    </td>
    <td width=277 valign=top style='width:207.8pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>触发<span lang=EN-US>403 Forbidden</span>错误时返回的页面</span></p>
    </td>
    <td width=140 valign=top style='width:105.3pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>&quot;./error/403.html&quot;</span></p>
    </td>
   </tr>
   <tr>
    <td width=123 valign=top style='width:92.15pt;border-top:none;border-left:
    solid #2E74B5 1.0pt;border-bottom:solid #2E74B5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>PAGE_404</span></p>
    </td>
    <td width=277 valign=top style='width:207.8pt;border-top:none;border-left:
    none;border-bottom:solid #9CC2E5 1.0pt;border-right:solid #9CC2E5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span style='font-family:
    宋体'>触发<span lang=EN-US>404 Not Found</span>错误时返回的页面</span></p>
    </td>
    <td width=140 valign=top style='width:105.3pt;border-top:none;border-left:
    none;border-bottom:solid #2E74B5 1.0pt;border-right:solid #2E74B5 1.0pt;
    background:#DEEAF6;padding:0cm 5.4pt 0cm 5.4pt'>
    <p class=MsoListParagraph style='text-indent:0cm'><span lang=EN-US
    style='font-family:宋体'>&quot;./error/404.html&quot;</span></p>
    </td>
   </tr>
  </table>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体'>&nbsp;</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span style='font-size:12.0pt;font-family:宋体'>启动服务器：</span></b></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
  lang=EN-US style='font-family:宋体'>4.1</span></b><b><span style='font-family:
  宋体'>启动<span lang=EN-US>:</span></span></b><span style='font-family:宋体'>运行<span
  lang=EN-US>my_server.py</span>启动服务器。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
  lang=EN-US style='font-family:宋体'>4.2</span></b><b><span style='font-family:
  宋体'>网页访问：</span></b></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><b><span
  lang=EN-US style='font-family:宋体'>4.2.1</span></b><b><span style='font-family:
  宋体'>网页映射规则：</span></b><span style='font-family:宋体'>服务器工作方式可以看作将<span
  lang=EN-US>DEFAULT_ROOT</span>文件夹下的文件映射到网络上。例如当外网</span><span lang=EN-US
  style='font-size:9.0pt;color:black'>IP=123.123.123.123</span>，<span
  lang=EN-US style='font-size:9.0pt;color:black'>PORT = </span><span
  lang=EN-US style='font-size:9.0pt;color:blue'>8888</span><span
  style='font-family:宋体'>，</span><span lang=EN-US style='font-size:9.0pt;
  color:black'>DEFAULT_ROOT = </span><b><span lang=EN-US style='font-size:9.0pt;
  color:teal'>&quot;./index/&quot;</span></b><span style='font-family:宋体'>时，目录</span><span
  lang=EN-US style='font-size:9.0pt;font-family:宋体;color:black'>./index/home</span><span
  style='font-family:宋体'>下有一网页文件</span><span lang=EN-US style='font-size:9.0pt;
  font-family:宋体;color:black'>abc.html</span><span style='font-family:宋体'>，则该文件的<u>本地访问地址</u>为</span><span
  lang=EN-US style='font-size:9.0pt;font-family:宋体;color:blue'>http://localhost:8888/home/abc.html</span><span
  style='font-family:宋体'>（<span lang=EN-US>localhost</span>可改为<span lang=EN-US>127.0.0.1</span>），<u>外网访问地址</u>为</span><span
  lang=EN-US style='font-size:9.0pt;font-family:宋体;color:blue'>http://</span><span
  lang=EN-US style='font-size:9.0pt;color:blue'>123.123.123.123</span><span
  lang=EN-US style='font-size:9.0pt;font-family:宋体;color:blue'>:8888/home/abc.html</span><span
  style='font-family:宋体'>。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><b><span
  lang=EN-US style='font-family:宋体'>4.2.2</span></b><b><span style='font-family:
  宋体'>禁止访问：</span></b><span style='font-family:宋体'>服务器只允许对<span lang=EN-US>DEFAULT_ROOT</span>文件夹下的文件进行访问，若访问超出范围，则会触发<span
  lang=EN-US>403 Forbidden</span>错误，跳转到<span lang=EN-US>PAGE_403</span>指定的页面。例如</span><span
  lang=EN-US style='font-size:9.0pt;color:black'>DEFAULT_ROOT = </span><b><span
  lang=EN-US style='font-size:9.0pt;color:teal'>&quot;./index/&quot;</span></b><span
  style='font-family:宋体'>，</span><span lang=EN-US style='font-size:9.0pt;
  color:black'>PAGE_403 = </span><b><span lang=EN-US style='font-size:9.0pt;
  color:teal'>&quot;./error/403.html&quot;</span></b><span style='font-family:
  宋体'>时，发生<span lang=EN-US>403</span>错误则返回页面</span><span lang=EN-US
  style='font-size:9.0pt;font-family:宋体;color:black'>./index/error/403.html</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:3.0pt'><b><span
  lang=EN-US style='font-family:宋体'>4.2.3</span></b><b><span style='font-family:
  宋体'>找不到页面：</span></b><span style='font-family:宋体'>当访问路径合法时，却找不到请求<span
  lang=EN-US>url</span>所指定的文件时，会触发<span lang=EN-US>404 Not Found</span>错误，跳转到<span
  lang=EN-US>PAGE_404</span>指定的页面。也就是说服务器会先检查访问路径是否合法，再检测请求文件是否存在，即<span
  lang=EN-US>403</span>错误优先级高于<span lang=EN-US>404</span>。</span></p>
  <p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><b><span
  lang=EN-US style='font-size:14.0pt;font-family:宋体'>二、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
  </span></span></b><b><span style='font-size:14.0pt;font-family:宋体'>嵌入<span
  lang=EN-US>Python</span>代码</span></b></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span style='font-size:12.0pt;font-family:宋体'>嵌入<span
  lang=EN-US>Python</span>代码到网页中：</span></b><span style='font-family:宋体'>通过标签对</span><span
  lang=EN-US style='font-size:9.0pt;font-family:宋体'>&lt;?python ?&gt;</span><span
  style='font-family:宋体'>可以将<span lang=EN-US>python</span>代码嵌入到网页文件的任意位置。下面是一个最简单的<span
  lang=EN-US>hello world</span>页面代码：</span></p>
  <table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
   style='margin-left:39.0pt;border-collapse:collapse;border:none'>
   <tr>
    <td width=605 valign=top style='width:16.0cm;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
    <div style='border:none;border-left:solid #6CE26C 2.25pt;padding:0cm 0cm 0cm 0cm;
    background:white;margin-left:18.0pt;margin-right:0cm'>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;html&gt;&lt;body&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;?python</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;echo(&quot;hello&nbsp;world&quot;)</span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>?&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;/body&gt;&lt;/html&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  <p class=MsoNormal><span lang=EN-US style='font-family:宋体'>&nbsp;</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span lang=EN-US style='font-size:12.0pt;font-family:
  宋体'>echo</span></b><b><span style='font-size:12.0pt;font-family:宋体'>和<span
  lang=EN-US>cur_text</span>：</span></b></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
  lang=EN-US style='font-family:宋体'>2.1 cur_text</span></b><b><span
  style='font-family:宋体'>：</span></b><span lang=EN-US style='font-family:宋体'>cur_text</span><span
  style='font-family:宋体'>储存了一个局部字符串变量。当请求网页时，服务器会检测并执行所有<span lang=EN-US>&lt;?python
  ?&gt;</span>标签中的代码，你可以在代码中随意获取或改变<span lang=EN-US>cur_text.str</span>的值，当标签中<span
  lang=EN-US>python</span>代码执行完毕后，整个标签会被替换成<span lang=EN-US>cur_text.str</span>的内容。对于每个标签中的代码，<span
  lang=EN-US>cur_text</span>默认为空字符串且相互独立，不会相互影响。例如下面的代码：</span></p>
  <table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
   style='margin-left:39.0pt;border-collapse:collapse;border:none'>
   <tr>
    <td width=553 valign=top style='width:414.8pt;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
    <div style='border:none;border-left:solid #6CE26C 2.25pt;padding:0cm 0cm 0cm 0cm;
    background:white;margin-left:18.0pt;margin-right:0cm'>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;html&gt;&lt;body&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;?python</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;cur_text+=&quot;hello&quot;</span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>?&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;?python</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;cur_text+=&quot;world&quot;</span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>?&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;/body&gt;&lt;/html&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
  style='font-family:宋体'>代码会输出<span lang=EN-US>hello world</span>。第二个标签开始执行时，<span
  lang=EN-US>cur_text</span>为空，而不会受到第一个标签中的代码影响，执行结束后，第二个标签被替换成<span
  lang=EN-US>world</span>。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
  lang=EN-US style='font-family:宋体'>&nbsp;</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
  lang=EN-US style='font-family:宋体'>2.2 echo</span></b><b><span
  style='font-family:宋体'>：</span></b><span style='font-family:宋体'>第一个<span
  lang=EN-US>hello world</span>的例子中就使用了<span lang=EN-US>echo</span>函数。顾名思义，<span
  lang=EN-US>echo</span>函数表示在当前标签处显示一段文本，下面三行代码本质上是等价的。</span></p>
  <table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
   style='margin-left:39.0pt;border-collapse:collapse;border:none'>
   <tr>
    <td width=553 valign=top style='width:414.8pt;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
    <div style='border:none;border-left:solid #6CE26C 2.25pt;padding:0cm 0cm 0cm 0cm;
    background:white;margin-left:18.0pt;margin-right:0cm'>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>echo(s)&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>cur_text&nbsp;+=&nbsp;s&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>cur_text.str&nbsp;+=&nbsp;s&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
  lang=EN-US style='font-family:宋体'>&nbsp;</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span style='font-size:12.0pt;font-family:宋体'>关联<span
  lang=EN-US>*.py</span>文件</span></b></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
  lang=EN-US style='font-family:宋体'>3.1</span></b><b><span style='font-family:
  宋体'>为什么需要关联：</span></b><span style='font-family:宋体'>当需要编写的<span lang=EN-US>Python</span>代码较少时，使用<span
  lang=EN-US>&lt;?python ?&gt;</span>标签内嵌代码确实很方便，但需要大段的<span lang=EN-US>Python</span>代码时，内嵌代码非常不利于编写和调试。此时可以通过<span
  lang=EN-US>py</span>文件关联，将大段代码以函数形式定义在<span lang=EN-US>.py</span>文件中，在内嵌代码时仅调用所需函数。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
  lang=EN-US style='font-family:宋体'>3.2</span></b><b><span style='font-family:
  宋体'>关联规则：</span></b><span lang=EN-US style='font-family:宋体'>*.html</span><span
  style='font-family:宋体'>文件与同名的<span lang=EN-US>*.py</span>文件相关联，执行时，先执行<span
  lang=EN-US>py</span>文件，再执行<span lang=EN-US>html</span>文件中的内嵌代码。故可以将大段的代码以函数的形式写在<span
  lang=EN-US>py</span>文件中，再在<span lang=EN-US>html</span>文件中予以调用。如将下面代码分别写在<span
  lang=EN-US>abc.html</span>和<span lang=EN-US>abc.py</span>中：</span></p>
  <table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
   style='margin-left:39.0pt;border-collapse:collapse;border:none'>
   <tr>
    <td width=553 valign=top style='width:414.8pt;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
    <div style='border:none;border-left:solid #6CE26C 2.25pt;padding:0cm 0cm 0cm 0cm;
    background:white;margin-left:18.0pt;margin-right:0cm'>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;html&gt;&lt;body&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;?python</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;func()</span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>?&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;/body&gt;&lt;/html&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
  lang=EN-US style='font-family:宋体'>&nbsp;</span></p>
  <table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
   style='margin-left:39.0pt;border-collapse:collapse;border:none'>
   <tr>
    <td width=553 valign=top style='width:414.8pt;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
    <div style='border:none;border-left:solid #6CE26C 2.25pt;padding:0cm 0cm 0cm 0cm;
    background:white;margin-left:18.0pt;margin-right:0cm'>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>def</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;func():&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;&nbsp;&nbsp;echo(</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:blue'>&quot;hello&nbsp;world&quot;</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>)&nbsp;&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
  lang=EN-US style='font-family:宋体'>&nbsp;</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
  lang=EN-US style='font-family:宋体'>3.3</span></b><b><span style='font-family:
  宋体'>编写技巧：</span></b><span lang=EN-US style='font-family:宋体'>echo</span><span
  style='font-family:宋体'>、<span lang=EN-US>cur_text</span>等变量由于没有在<span
  lang=EN-US>py</span>文件中定义，在<span lang=EN-US>pycharm</span>等<span lang=EN-US>IDE</span>中编写代码时，会被标红报错，但实际上代码可以正常运行。此时可以通过<span
  lang=EN-US>global</span>关键字，使<span lang=EN-US>IDE</span>知道<span lang=EN-US>echo</span>等变量在其他地方有定义，上面的代码可以写成：</span></p>
  <table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
   style='margin-left:39.0pt;border-collapse:collapse;border:none'>
   <tr>
    <td width=553 valign=top style='width:414.8pt;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
    <div style='border:none;border-left:solid #6CE26C 2.25pt;padding:0cm 0cm 0cm 0cm;
    background:white;margin-left:18.0pt;margin-right:0cm'>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>global</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;echo&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>def</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;func():&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;&nbsp;&nbsp;echo(</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:blue'>&quot;hello&nbsp;world&quot;</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>)&nbsp;&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
  lang=EN-US style='font-family:宋体'>&nbsp;</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span lang=EN-US style='font-size:12.0pt;font-family:
  宋体'>send_response</span></b><b><span style='font-size:12.0pt;font-family:
  宋体'>和<span lang=EN-US>send_header</span></span></b></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
  lang=EN-US style='font-family:宋体'>4.1 send_response(code)</span></b><b><span
  style='font-family:宋体'>：</span></b><span style='font-family:宋体'>返回<span
  lang=EN-US>HTTP</span>状态码<span lang=EN-US>Code</span>。如默认的<span lang=EN-US>404</span>页面<span
  lang=EN-US>404.html</span>中，第一行代码是<span lang=EN-US>&lt;?python
  send_response(404)?&gt;</span>，即返回<span lang=EN-US>HTTP</span>状态码<span
  lang=EN-US>404</span>。若多次返回状态码，则仅最后一次有效。如不指定状态码，则默认返回<span lang=EN-US>200</span>（请求成功）。关于<span
  lang=EN-US>HTTP</span>状态码及其意义，请学习<span lang=EN-US>HTTP</span>协议，也可参考链接：<span
  class=MsoHyperlink><span lang=EN-US><a
  href="http://www.w3school.com.cn/tags/html_ref_httpmessages.asp">http://www.w3school.com.cn/tags/html_ref_httpmessages.asp</a></span></span>。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><b><span
  lang=EN-US style='font-family:宋体'>4.2 send_header(key,value)</span></b><b><span
  style='font-family:宋体'>：</span></b><span style='font-family:宋体'>设置一个返回<span
  lang=EN-US>header</span>，<span lang=EN-US>key</span>和<span lang=EN-US>value</span>分别是键名和键值。若多次设置同一<span
  lang=EN-US>header</span>，则仅最后一次有效。关于<span lang=EN-US>HTTP</span>的<span
  lang=EN-US>header</span>及其意义，请学习<span lang=EN-US>HTTP</span>协议。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span lang=EN-US style='font-size:12.0pt;font-family:
  宋体'>Python</span></b><b><span style='font-size:12.0pt;font-family:宋体'>代码的工作方式</span></b></p>
  <p class=MsoListParagraph style='margin-left:39.1pt'><span lang=EN-US
  style='font-family:宋体'>Python</span><span style='font-family:宋体'>代码的执行发生在服务器端而不是在前端，不要因为<span
  lang=EN-US>python</span>代码被嵌入在<span lang=EN-US>html</span>里，就认为这些代码是被浏览器执行的，理解<span
  lang=EN-US>python</span>代码、<span lang=EN-US>html</span>、<span lang=EN-US>css</span>、<span
  lang=EN-US>javascript</span>等代码的关系和执行顺序是开发的基础。本框架只负责页面中全部的<span lang=EN-US>python</span>代码的执行，框架工作顺序如下：</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
  lang=EN-US style='font-family:宋体'><img border=0 width=333 height=491 id="图片 3"
  src="help.files/image001.png"></span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
  style='font-family:宋体'>特别注意，服务器执行<span lang=EN-US>python</span>代码的路径是<span
  lang=EN-US>html</span>文件所在路径，这会引起库文件引用、文件读写等操作时路径的变化（这个特性可能在之后的版本中改正）。</span></p>
  <p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><b><span
  lang=EN-US style='font-size:14.0pt;font-family:宋体'>三、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
  </span></span></b><b><span lang=EN-US style='font-size:14.0pt;font-family:
  宋体'>HTTP</span></b><b><span style='font-size:14.0pt;font-family:宋体'>请求参数</span></b></p>
  <p class=MsoListParagraph style='margin-left:21.0pt'><span style='font-family:
  宋体'>一个完整的<span lang=EN-US>HTTP</span>请求中，除了<span lang=EN-US>URL</span>以外，还有更多的参数。例如在搜索引擎中，服务器还需要通过<span
  lang=EN-US>HTTP</span>请求获取搜索字串，在登录时，需要获取登录的账号和密码等。关于各种参数传递方法及其区别，请学习<span
  lang=EN-US>HTTP</span>协议，也可以参考链接<span class=MsoHyperlink><span lang=EN-US><a
  href="http://www.w3school.com.cn/tags/html_ref_httpmethods.asp">http://www.w3school.com.cn/tags/html_ref_httpmethods.asp</a></span></span></span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span lang=EN-US style='font-size:12.0pt;font-family:
  宋体'>gets</span></b><b><span style='font-size:12.0pt;font-family:宋体'>和<span
  lang=EN-US>posts</span>：</span></b><span lang=EN-US style='font-family:宋体'>HTTP</span><span
  style='font-family:宋体'>请求中的<span lang=EN-US>GET</span>参数和<span lang=EN-US>POST</span>参数会被框架解析，并以字典的形式分别保存在<span
  lang=EN-US>gets</span>和<span lang=EN-US>posts</span>中方便使用。</span></p>
  <p class=MsoListParagraph style='margin-left:60.75pt;text-indent:-21.75pt'><b><span
  lang=EN-US style='font-family:宋体'>1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span lang=EN-US style='font-family:宋体'>GET</span></b><b><span
  style='font-family:宋体'>型请求：</span></b><span lang=EN-US style='font-family:
  宋体'>GET</span><span style='font-family:宋体'>型请求是最常见的请求，<span lang=EN-US>GET</span>型请求的参数跟在<span
  lang=EN-US>URL</span>后，以<span lang=EN-US>?</span>连接以<span lang=EN-US>&amp;</span>并列。如<span
  lang=EN-US style='color:#4472C4'>/test.html?</span></span><span lang=EN-US
  style='color:#4472C4'> </span><span lang=EN-US style='font-family:宋体;
  color:#4472C4'>a=123&amp;b=345&amp;a=abc</span><span style='font-family:宋体'>，收到该请求后，<span
  lang=EN-US>URL</span>会被解析并提取参数，此时<span lang=EN-US>gets=</span></span><span
  lang=EN-US> </span><span lang=EN-US style='font-family:宋体'>{'a': ['123',
  'abc'], 'b': ['345']}</span><span style='font-family:宋体'>，由于<span lang=EN-US>GET</span>型请求不带<span
  lang=EN-US>POST</span>参数，此时<span lang=EN-US>posts={}</span>。注意每个键名对应的都是一个字符串列表，取用仅出现一次的键时，不要忘了<span
  lang=EN-US>gets['b']<b>[0]</b></span>。</span></p>
  <p class=MsoListParagraph style='margin-left:60.75pt;text-indent:-21.75pt'><b><span
  lang=EN-US style='font-family:宋体'>1.2<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span lang=EN-US style='font-family:宋体'>POST</span></b><b><span
  style='font-family:宋体'>型请求：</span></b><span style='font-family:宋体'>通常来说，对安全性要求更高的场合一般使用<span
  lang=EN-US>POST</span>请求，如登录注册时。<span lang=EN-US>POST</span>请求可以同时包含<span
  lang=EN-US>GET</span>参数和<span lang=EN-US>POST</span>参数，可以通过相同的方式从变量<span
  lang=EN-US>gets</span>和<span lang=EN-US>posts</span>中获取参数。</span></p>
  <p class=MsoListParagraph align=left style='margin-left:39.0pt;text-align:
  left;text-indent:-18.0pt'><b><span lang=EN-US style='font-size:12.0pt;
  font-family:宋体'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></b><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>headers</span></b><b><span
  style='font-size:12.0pt;font-family:宋体'>：</span></b><span lang=EN-US
  style='font-family:宋体'>HTTP</span><span style='font-family:宋体'>请求中的<span
  lang=EN-US>header</span>会以字典的形式保存在<span lang=EN-US>headers</span>变量中。如：<span
  lang=EN-US>headers={'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)
  AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
  'cookie': ssid=64791705', 'accept-language': 'zh-CN,zh;q=0.9'}</span></span></p>
  <p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><b><span
  lang=EN-US style='font-size:14.0pt;font-family:宋体'>四、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
  </span></span></b><b><span style='font-size:14.0pt;font-family:宋体'>变量与作用域</span></b></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span style='font-size:12.0pt;font-family:宋体'>一般变量：</span></b><span
  style='font-family:宋体'>一般变量的作用域是一次请求。在关联<span lang=EN-US>py</span>文件中定义的全局变量可以在这次请求所涉及的全部代码中生效，这也是可以在关联<span
  lang=EN-US>py</span>文件中定义函数，然后在内嵌<span lang=EN-US>python</span>代码中调用的原因（<span
  lang=EN-US>python</span>中定义函数本质上是定义了一个可执行变量）。而在内嵌代码中定义的变量，不能在关联<span
  lang=EN-US>py</span>文件中生效，这是代码执行顺序的原因。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
  style='font-family:宋体'>当请求完成后，所有定义的变量都会失效。再次请求相同的文件时，相同的<span lang=EN-US>python</span>代码被执行，虽然变量的名字不变，值也可能不变，但与上次请求时定义的变量已经不同了。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span style='font-size:12.0pt;font-family:宋体'>全局变量：</span></b><span
  style='font-family:宋体'>为了使定义的变量不在请求完成后丢失，框架提供了全局变量<span lang=EN-US>global_variables</span>，<span
  lang=EN-US>global_variables</span>是一个字典，其中保存的内容可以在全局的代码中生效。如令<span
  lang=EN-US>global_variables[&quot;a&quot;]=233</span>，则在任意地方都可通过<span
  lang=EN-US>global_variables[&quot;a&quot;]</span>得到其中保存的值。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span style='font-size:12.0pt;font-family:宋体'>用户变量：</span></b><span
  style='font-family:宋体'>大多数开发中，我们还关心如何将用户区分开来，例如保存用户的登录状态和个人信息，为不同用户提供不同的页面。框架为此提供了全局变量<span
  lang=EN-US>session</span>，每次请求时都会装入请求者对应的<span lang=EN-US>session</span>变量。同<span
  lang=EN-US>global_variables</span>一样，<span lang=EN-US>session</span>也是一个字典，使用方式也完全相同，只不过每个<span
  lang=EN-US>session</span>变量都是用户专用的。</span></p>
  <p class=MsoListParagraph align=left style='margin-left:39.1pt;text-align:
  left'><span style='font-family:宋体'>框架识别用户的方式是，为每个访问用户在<span lang=EN-US>cookie</span>中发放一个唯一的<span
  lang=EN-US>ssid</span>，并通过浏览器返回的不同<span lang=EN-US>ssid</span>值区分用户，再取出该<span
  lang=EN-US>ssid</span>对应的<span lang=EN-US>session</span>变量，如果是新用户，则会新建一个空<span
  lang=EN-US>session</span>字典。开发时可以不关心这些原理，但了解原理无疑有助于开发。通过<span lang=EN-US>cookie</span>识别用户与账号区分有很大不同，<span
  lang=EN-US>cookie</span>是属于浏览器的，这意味着使用两个浏览器、清空浏览器缓存、或使用隐身模式浏览都会被识别为两个用户。</span></p>
  <p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt'><b><span
  lang=EN-US style='font-size:14.0pt;font-family:宋体'>五、<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
  </span></span></b><b><span style='font-size:14.0pt;font-family:宋体'>其他</span></b></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span style='font-size:12.0pt;font-family:宋体'>使用<span
  lang=EN-US>global</span>：</span></b><span style='font-family:宋体'>框架提供的所有变量和函数，都无法被<span
  lang=EN-US>IDE</span>检测到，这意味着<span lang=EN-US>IDE</span>会对使用了这些函数的代码标红报错，尽管函数可以正常使用。在二<span
  lang=EN-US>.3.3</span>中，已经提到了可以通过<span lang=EN-US>global echo</span>的方法对<span
  lang=EN-US>IDE</span>声明<span lang=EN-US>echo</span>函数，消除无意义的报错。对于框架提供的其他函数，如<span
  lang=EN-US>send_header, send_response</span>等，同样可以用<span lang=EN-US>global</span>关键字予以声明。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:0cm'><span
  style='font-family:宋体'>对于框架提供的变量，如<span lang=EN-US>session, gets,
  global_variables</span>等，在函数中使用时则必须使用<span lang=EN-US>global</span>关键字，否则会产生未定义错误。</span></p>
  <p class=MsoListParagraph style='margin-left:39.0pt;text-indent:-18.0pt'><b><span
  lang=EN-US style='font-size:12.0pt;font-family:宋体'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span lang=EN-US style='font-size:12.0pt;font-family:
  宋体'>ajax</span></b><b><span style='font-size:12.0pt;font-family:宋体'>：</span></b><span
  style='font-family:宋体'>二<span lang=EN-US>.5</span>中已经提到，全部的<span lang=EN-US>python</span>代码的执行，都发生在收到请求时，结束于完成请求时。服务器将<span
  lang=EN-US>python</span>渲染完毕的文件发回前端，能在前端生效的代码只有<span lang=EN-US>html, css,
  javascript</span>。但有时我们希望前端在收到页面后仍能与服务器产生互动，例如动态加载某些数据，这时则需要用到<span
  lang=EN-US>ajax</span>。</span></p>
  <p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-24.0pt'><b><span
  lang=EN-US style='font-family:宋体'>2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span lang=EN-US style='font-family:宋体'>ajax</span></b><b><span
  style='font-family:宋体'>概述：</span></b><span lang=EN-US style='font-family:
  宋体'>ajax</span><span style='font-family:宋体'>是原生<span lang=EN-US>javascript</span>提供的动态获取数据的手段。通过在<span
  lang=EN-US>javascript</span>代码中，写明请求地址、请求方式等，从服务器异步获取数据，数据到达后再通过回调函数，完成一系列功能。具体内容请学习<span
  lang=EN-US>javascript ajax</span>相关内容。</span></p>
  <p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-24.0pt'><b><span
  lang=EN-US style='font-family:宋体'>2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;
  </span></span></b><b><span lang=EN-US style='font-family:宋体'>ajax_map</span></b><b><span
  style='font-family:宋体'>：</span></b><span style='font-family:宋体'>服务器框架提供了<span
  lang=EN-US>ajax_map.html</span>和<span lang=EN-US>ajax_map.py</span>两个文件帮助进行<span
  lang=EN-US>ajax</span>异步调用。在<span lang=EN-US>ajax_test.html</span>中，有三个通过<span
  lang=EN-US>ajax_map</span>间接调用<span lang=EN-US>python</span>函数并获取执行结果的例子。</span></p>
  <p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
  style='font-family:宋体'>在前端调用<span lang=EN-US>ajax_map</span>需要先引入<span
  lang=EN-US>ajax_map.js</span>，然后通过函数<span lang=EN-US>ajax_caller(func,callback,params)</span>完成调用，其中<span
  lang=EN-US>func</span>是函数名，<span lang=EN-US>callback</span>指定一个回调函数，回调函数必须接受一个字符串参数，定义收到服务器反馈的字符串后的行为，<span
  lang=EN-US>params</span>是目标函数接受的参数列表，可空。如<span lang=EN-US>ajax_test.html</span>的例三：</span></p>
  <table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
   style='margin-left:34.0pt;border-collapse:collapse;border:none'>
   <tr>
    <td width=553 valign=top style='width:414.8pt;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
    <div style='border:none;border-left:solid #6CE26C 2.25pt;padding:0cm 0cm 0cm 0cm;
    background:white;margin-left:18.0pt;margin-right:0cm'>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;script</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:red'>type</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>=</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:blue'>&quot;text/javascript&quot;</span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;func1_callback(s)&nbsp;{&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById('myDiv')</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:red'>.innerHTML</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>=</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:blue'>s</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>;&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:white;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;/script&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;&nbsp;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;button</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:red'>type</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>=</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:blue'>&quot;button&quot;</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>7.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:red'>onclick</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>=</span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:blue'>&quot;ajax_caller('test_params',func1_callback,[10086,10010])&quot;</span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&gt;</span></b></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>8.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>Change&nbsp;by&nbsp;AJAX&nbsp;test_params</span></p>
    <p class=MsoNormal align=left style='margin-left:18.0pt;text-align:left;
    text-indent:-18.0pt;line-height:10.5pt;background:#F8F8F8;border:none;
    padding:0cm'><span lang=EN-US style='font-size:9.0pt;font-family:Consolas;
    color:#5C5C5C'>9.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#006699'>&lt;/button&gt;</span></b><span
    lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:black'>&nbsp;</span></p>
    </div>
    </td>
   </tr>
  </table>
  <p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
  style='font-family:宋体'>点击按钮后，相当于在服务器执行了函数<span lang=EN-US>test_params(10086,10010)</span>，并把执行结果显示在<span
  lang=EN-US>myDiv</span>中。</span></p>
  <p class=MsoListParagraph style='margin-left:63.0pt;text-indent:0cm'><span
  style='font-family:宋体'>而服务器端为了执行<span lang=EN-US>test_params</span>函数，需要预先在<span
  lang=EN-US>ajax_map.py</span>中的<span lang=EN-US>AjaxMapper</span>类中定义对应的静态函数，函数返回值必须为字符串，这个字符串也就是前端回调函数收到的字符串。</span></p>
  <p class=MsoNormal align=left style='text-align:left'><b><span lang=EN-US
  style='font-family:宋体'>Json</span></b><b><span style='font-family:宋体'>：</span></b><span
  style='font-family:宋体'>由于<span lang=EN-US>ajax_map</span>传输的数据只能为字符串，造成了一定的不便，这里推荐使用<span
  lang=EN-US>Json</span>来将数据格式化为字符串。由于<span lang=EN-US>Python</span>与<span
  lang=EN-US>javascript</span>都对<span lang=EN-US>json</span>提供了支持，这使得用<span
  lang=EN-US>json</span>作为数据传输格式可以带来极大的方便。<span lang=EN-US>ajax_test.html</span>中的例二展示了<span
  lang=EN-US>json</span>数据的打包和拆包。关于<span lang=EN-US>json</span>的更多内容请自行了解。<span
  lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal><span lang=EN-US style='font-family:宋体'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>

</div>

</body>

</html>
